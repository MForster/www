<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>System Administration | Michael Forster</title><link>https://michael.forster.pro/tag/system-administration/</link><atom:link href="https://michael.forster.pro/tag/system-administration/index.xml" rel="self" type="application/rss+xml"/><description>System Administration</description><generator>Wowchemy (https://wowchemy.com)</generator><language>en-us</language><lastBuildDate>Tue, 06 Dec 2022 00:00:00 +0000</lastBuildDate><image><url>https://michael.forster.pro/media/icon_hu5c8c70ccc479e94e8864e2f432562923_202732_512x512_fill_lanczos_center_3.png</url><title>System Administration</title><link>https://michael.forster.pro/tag/system-administration/</link></image><item><title>Hosting my own Mastodon instance</title><link>https://michael.forster.pro/post/mastodon-selfhost/</link><pubDate>Tue, 06 Dec 2022 00:00:00 +0000</pubDate><guid>https://michael.forster.pro/post/mastodon-selfhost/</guid><description>&lt;p>Here are a few thoughts about self-hosting my own
&lt;a href="https://joinmastodon.org/" target="_blank" rel="noopener">Mastodon&lt;/a> instance, why I do it, how I do it, and
how it is going.&lt;/p>
&lt;p>Spoiler: It&amp;rsquo;s not hard, and I like it so far.&lt;/p>
&lt;p>(After saying that, I&amp;rsquo;ll probably soon run into hard issues ðŸ˜€)&lt;/p>
&lt;h2 id="why-did-i-want-to-host-my-own-instance">Why did I want to host my own instance?&lt;/h2>
&lt;p>There isn&amp;rsquo;t actually a strong reason. Part of it was just the nerd in me wanting
to try it out, but then it also seemed to be an answer to my
choose-the-right-instance conundrum.&lt;/p>
&lt;p>There are many nice instances that would probably have easily filled my need,
but I&amp;rsquo;d always have wondered if I had chosen the right one, always with the
concern in the back of my head what would happen if my chosen instance went down
or was defederated by others.&lt;/p>
&lt;p>Another reason was just the vanity to have my own custom domain in the account
handle. I had been planning to switch my email from the clunky
&lt;a href="http://michael-forster.de" target="_blank" rel="noopener">michael-forster.de&lt;/a> domain to my new and shiny
&lt;a href="http://forster.pro" target="_blank" rel="noopener">forster.pro&lt;/a> domain anyway, and this seemed like a nice time
to do both.&lt;/p>
&lt;h2 id="why-did-i-hesitate-to-host-my-own-instance">Why did I hesitate to host my own instance?&lt;/h2>
&lt;p>Well, first there is effort and cost, but those aren&amp;rsquo;t really big reasons. Cost
seems really manageable (~5â‚¬/month) and effort doesn&amp;rsquo;t really count for tech
tinkering.&lt;/p>
&lt;p>The biggest drawback is that following hashtags becomes useless on my own
instance. I did find a good work-around for that though, and considering that
following hashtags is impacted by instance choice anyway, I figured that I&amp;rsquo;d
have to find a proper solution in any case.&lt;/p>
&lt;p>Instead of following hashtags on my own instance I have lurking accounts on
other instances that I only use for reading, but not posting. I use the Tusky
app on my Android phone, and that has a nice feature to open a post in a
different account and reply from there. That works quite well for me.&lt;/p>
&lt;p>Maybe at some point I&amp;rsquo;ll try to set up a relay instead.&lt;/p>
&lt;h2 id="setting-up-my-instance">Setting up my instance&lt;/h2>
&lt;p>So, I went ahead and configured my own instance. I used &lt;a href="https://page.romeov.me/posts/setting-up-mastodon-with-nixos/" target="_blank" rel="noopener">this
setup&lt;/a> with NixOS
on a &lt;a href="https://www.hetzner.com/cloud" target="_blank" rel="noopener">Hetzner vServer&lt;/a>. I had become passionate
about Nix recently, and I have been using Hetzner for 20 years, so that seemed
like a great fit.&lt;/p>
&lt;p>And it really only takes a couple of hours to get this configured. Minutes if
you&amp;rsquo;ve done it before. Just try it out, it&amp;rsquo;s really easy. The only additional
change I made was to enable backup:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-nix" data-lang="nix">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">networking&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">domain&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;forster.pro&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">firewall&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">allowedTCPPorts&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span> &lt;span class="mi">80&lt;/span> &lt;span class="mi">443&lt;/span> &lt;span class="p">];&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">services&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mastodon&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">enable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="no">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">localDomain&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;forster.pro&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">configureNginx&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="no">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">smtp&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fromAddress&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">services&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">postgresqlBackup&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">enable&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="no">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">security&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">acme&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">acceptTerms&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="no">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">defaults&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">email&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;michael@forster.pro&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">};&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>I got the smallest instance that Hetzner has (1 vCPU, 2GB RAM, 20 GB SSD,
3.92â‚¬/month), and I think that is a totally viable option.&lt;/p>
&lt;p>It&amp;rsquo;s a bit slow sometimes, but as I&amp;rsquo;m using it mostly through the app, that&amp;rsquo;s
not a big issue. I might upgrade to a slightly bigger server at some point, but
I&amp;rsquo;ll wait a bit more and see how this keeps up.&lt;/p>
&lt;p>Overall I&amp;rsquo;m quite happy that I&amp;rsquo;ve decided to try this out.&lt;/p>
&lt;div class="alert alert-note">
&lt;div>
Since I&amp;rsquo;ve written this I&amp;rsquo;ve come to the conclusion that I need
a larger instance, mostly because the default disk size of 20 GB is not
enough. Hetzner makes it easy to switch instance types. I&amp;rsquo;ve now switched to
2vCPUs and 40 GB disk space.
&lt;/div>
&lt;/div></description></item></channel></rss>